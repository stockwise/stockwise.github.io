<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>A Demo Site</title>

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>

    <!-- https://www.geeksforgeeks.org/how-to-fetch-data-from-json-file-and-display-in-html-table-using-jquery/ -->
    <!-- CSS FOR STYLING THE PAGE -->

</head>

<body>
    <section>
        <h1>Data Sets</h1>
        <div id="last-update"></div>

        <script>
          $(document).ready(function () {
            $.getJSON("last-update.json",
              function(data) {
                $("#last-update").append("Last updated at: " + data.date)
              }
            );
          });
        </script>

        <!-- TABLE CONSTRUCTION-->
        <table id='data-sets'>
          <thead>
              <tr>
                <th>Symbol</th>
                <th>Exchange</th>
                <th>Price</th>
                </tr>
            </thead><tbody>

      
      <script>
            $(document).ready(function () {
              $.getJSON("data-set-1.json",
                function(data) {
                  var record = "";
                  for (var i = 0; i < data.length; i++) {
                     record += "<tr class='entry'><td>" + data[i].symbol + "</td><td>" + data[i].symbol + "</td><td>" + data[i].exchangeName + "</td></tr>"
                   }
//                  record += "<tr><td>data-set-1</td><td>url</td><td>" + data.url + "</td></tr>"
//                  record += "<tr><td>data-set-1</td><td>host</td><td>" + data.headers["host"] + "</td></tr>"
//                  record += "<tr><td>data-set-1</td><td>x-request-id</td><td>" + data.headers["x-request-id"] + "</td></tr>"
//                  record += "<tr><td>data-set-1</td><td>x-request-start</td><td>" + data.headers["x-request-start"] + "</td></tr>"
                  
                  $("#data-sets").append(record)
                  $('#data-sets').DataTable()
                }
              );  
            });
        </script>          

            </tbody></table>     


        
    </section>

</body>
</html>
